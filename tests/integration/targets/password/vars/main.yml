---
test_sites:
  - version: "2.2.0p18"
    edition: "cme"
    site: "stable_cme"
  - version: "2.2.0p18"
    edition: "cre"
    site: "stable_raw"
  - version: "2.2.0p18"
    edition: "cee"
    site: "stable_ent"
  - version: "2.1.0p38"
    edition: "cre"
    site: "old_raw"
  - version: "2.0.0p39"
    edition: "cre"
    site: "ancient_raw"

checkmk_var_server_url: "http://127.0.0.1/"
checkmk_var_automation_user: "cmkadmin"
checkmk_var_automation_secret: "d7589df1"

download_url: "https://download.checkmk.com/checkmk/{{ item.version }}/check-mk-{{ checkmk_server_edition_mapping[item.edition] }}-{{ item.version }}_0.{{ ansible_distribution_release }}_amd64.deb"  # noqa yaml[line-length]
download_user: "d-gh-ansible-dl"
download_pass: "{{ lookup('ansible.builtin.file', '/root/ansible_collections/checkmk/general/tests/integration/files/.dl-secret', errors='ignore') | default(omit) }}"  # noqa yaml[line-length]

# Due to inconsistent naming of editions, we normalize them here for convenience
checkmk_server_edition_mapping:
  cre: raw
  cfe: free
  cee: enterprise
  cce: cloud
  cme: managed

checkmk_passwords_create:
  - name: "pwtest1"
    title: "Password Test 1"
    comment: "Comment on PW 1"
    documentation_url: "http://something/"
    password: "topsecret"
    owner: "admin"
    shared: [
      "all"
    ]
  - name: "pwtest2"
    title: "Password Test 2"
    comment: "Comment on PW 2"
    password: "topsecret"
    owner: "admin"
    shared: [
      "all"
    ]
  - name: "pwtest3"
    title: "Password Test 3"
    comment: "Comment on PW 3"
    documentation_url: "http://something.3rd/"
    password: "topsecret"
    owner: "admin"
    shared: [
      "all"
    ]
  - name: "pwtest4"
    title: "Password Test 4"
    documentation_url: "http://something.4/"
    password: "topsecret"
    owner: "admin"
    shared: [
      "all"
    ]

checkmk_passwords_create_cme:
  - name: "pwtest1_cme"
    title: "Password Test 1"
    comment: "Comment on PW 1"
    documentation_url: "http://something/"
    password: "topsecret"
    owner: "admin"
    shared: [
      "all"
    ]
  - name: "pwtest2_cme"
    title: "Password Test 2"
    comment: "Comment on PW 2"
    documentation_url: "http://something.too/"
    password: "topsecret"
    owner: "admin"
    shared: [
      "all"
    ]

checkmk_passwords_update:
  - name: "pwtest2"
    title: "Password Test 2 CHANGED"
    comment: "Comment on PW 2 - New Info"
    documentation_url: "http://something.too/"
  - name: "pwtest3"
    documentation_url: "http://localhost/"
  - name: "pwtest5"
    title: "Password Test 5"
    comment: "My new Comment on PW 5"
    documentation_url: "http://something.new/"
    password: "morethantopsecret"
    owner: "admin"
    shared: [
      "all"
    ]

checkmk_passwords_delete:
  - name: "pwtest1"
  - name: "pwtest4"
